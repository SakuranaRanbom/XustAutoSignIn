{"version":3,"sources":["containers/NoMatch/NoMatch.tsx","api.ts","components/Submit/Submit.tsx","components/Delete/Delete.tsx","common/images/1.jpg","common/images/2.jpg","common/images/3.jpg","components/GetUIdModal/GetUIdModal.tsx","components/LearnMoreModal/LearnMoreModal.tsx","containers/Home/Home.tsx","Router.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["NoMatch","axios","interceptors","response","use","error","data","request","params","method","url","CREATE_USER","CREATE_USER_MESSAGE","Submit","props","React","uid","setUid","sid","setSid","email","setEmail","count","setCount","checkUID","id","test","checkStudentID","checkEmail","handleSubmit","ev","a","preventDefault","stopPropagation","setError","includes","gh","in","setLoading","res","status","Error","code","message","setSuccess","console","JSON","stringify","renderUIDInput","TextField","value","onChange","val","target","label","fullWidth","required","Tooltip","title","arrow","IconButton","onClick","openGetUidModal","color","component","Help","renderSIDInput","renderEmailInput","renderSelectorInput","RadioGroup","className","_","row","FormControlLabel","control","Radio","onSubmit","Button","variant","type","endIcon","Save","Delete","steps","stepImages","FirstImage","SecondImage","ThirdImage","map","i","src","GetUIdModal","activeStep","setActiveStep","Modal","disablePortal","disableEnforceFocus","disableAutoFocus","disableBackdropClick","aria-labelledby","aria-describedby","onClose","open","visible","style","outline","Fade","Stepper","orientation","item","Step","StepLabel","disabled","length","App","current","setCurrent","errorSnackbarMessage","setErrorSnackbarMessage","successSnackbarMessage","setSuccessSnackbarMessage","getUidModalVisible","setGetUidModalVisible","learnMoreModalVisible","setLearnMoreModalVisible","loading","tabSelection","container","handleCurrentChange","renderErrorSnackbar","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Alert","elevation","severity","renderSuccessSnackbar","AppBar","position","Tabs","indicatorColor","textColor","aria-label","Tab","index","Backdrop","CircularProgress","Router","exact","path","Home","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0cfb9521.chunk.js","sourcesContent":["import * as React from 'react';\r\n\r\nconst NoMatch: React.FC<{}> = () => {\r\n  return <h1>404 Not found</h1>;\r\n};\r\n\r\nexport default NoMatch;\r\n","import axios, { AxiosResponse } from 'axios';\r\n\r\nexport interface RESPONSE_DATA {\r\n  status_code: number;\r\n  data?: any;\r\n  e?: any;\r\n}\r\n\r\naxios.interceptors.response.use(\r\n  function (response) {\r\n    return response;\r\n  },\r\n  function (error) {\r\n    if (error.response) {\r\n      return error.response.data;\r\n    }\r\n    return error;\r\n  }\r\n);\r\n\r\ntype AxiosRequest = {\r\n  method?: 'get' | 'GET' | 'post' | 'POST';\r\n  url: string;\r\n  params?: {};\r\n  data?: {};\r\n};\r\n\r\nconst prefix =\r\n  process.env.NODE_ENV === 'development' ? 'http://192.168.28.33:8080' : '';\r\n\r\nconst request: (params: AxiosRequest) => Promise<AxiosResponse<any>> = (\r\n  params\r\n) =>\r\n  axios({\r\n    method: params.method || 'get',\r\n    url: `${prefix}${params.url}`,\r\n    params: params.params || {},\r\n    data: params.data || {},\r\n    // timeout: 15000,\r\n  });\r\n\r\nexport const CREATE_USER = (data: any) =>\r\n  request({\r\n    url: `/createUser`,\r\n    data,\r\n    method: 'post',\r\n  });\r\n\r\nexport const DELETE_USER = (data: any) =>\r\n  request({\r\n    url: `/delete`,\r\n    data,\r\n    method: 'post',\r\n  });\r\n","import * as React from 'react';\r\nimport {\r\n  TextField,\r\n  Radio,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  Button,\r\n  Tooltip,\r\n  IconButton,\r\n} from '@material-ui/core';\r\nimport { Save, Help } from '@material-ui/icons';\r\n\r\nimport './Submit.scss';\r\n\r\nimport { CREATE_USER } from '../../api';\r\n\r\nexport const CREATE_USER_MESSAGE = {\r\n  'failed.html': '任务提交失败，请检查 Uid',\r\n  'failedGh.html': '任务提交失败，请检查学号',\r\n  'failedIn.html': '任务提交失败，没有选择打卡时间',\r\n  'success.html': '创建任务成功',\r\n};\r\n\r\nconst Submit: React.SFC<any> = (props) => {\r\n  const [uid, setUid] = React.useState<string>('');\r\n  const [sid, setSid] = React.useState<string>('');\r\n  const [email, setEmail] = React.useState<string>('');\r\n  const [count, setCount] = React.useState<string>('');\r\n\r\n  const checkUID = React.useCallback((id: string): boolean => {\r\n    // http://ehallplatform.xust.edu.cn/default/jkdk/mobile/mobJkdkAdd_test.jsp?uid=*******=\r\n    return /^https?:\\/\\/ehallplatform\\.xust\\.edu\\.cn\\/default\\/jkdk\\/mobile\\/mobJkdkAdd_test\\.jsp\\?uid=.+/.test(\r\n      id\r\n    );\r\n  }, []);\r\n\r\n  const checkStudentID = React.useCallback((id: string): boolean => {\r\n    return /^\\d{11}$/.test(id);\r\n  }, []);\r\n\r\n  const checkEmail = React.useCallback((email: string): boolean => {\r\n    return /^[A-Za-z0-9\\u4e00-\\u9fa5_]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/.test(\r\n      email\r\n    );\r\n  }, []);\r\n\r\n  const handleSubmit = React.useCallback(\r\n    async (ev: React.FormEvent<HTMLFormElement>) => {\r\n      ev.preventDefault();\r\n      ev.stopPropagation();\r\n\r\n      if (!checkUID(uid)) {\r\n        props.setError('UID 格式错误');\r\n        return;\r\n      }\r\n      if (!checkStudentID(sid)) {\r\n        props.setError('学号格式错误');\r\n        return;\r\n      }\r\n      if (!checkEmail(email)) {\r\n        props.setError('邮箱格式错误');\r\n        return;\r\n      }\r\n      if (!count || !['once', 'twice'].includes(count)) {\r\n        props.setError('请选择打卡次数');\r\n        return;\r\n      }\r\n\r\n      const data = {\r\n        uid,\r\n        gh: sid,\r\n        in: count === 'once' ? '1' : '2',\r\n        email,\r\n      };\r\n\r\n      try {\r\n        props.setLoading(true);\r\n        const res = await CREATE_USER(data);\r\n        if (res.status !== 200) {\r\n          throw new Error('网络错误');\r\n        }\r\n        const code = res.data.code;\r\n        const message: keyof typeof CREATE_USER_MESSAGE = res.data.message;\r\n\r\n        if (code == 1000) {\r\n          // 成功\r\n          props.setSuccess(CREATE_USER_MESSAGE[message] || '设置打卡任务成功');\r\n        } else {\r\n          // 失败\r\n          throw new Error(CREATE_USER_MESSAGE[message] || '未知错误');\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n        props.setError(error.message || JSON.stringify(error));\r\n      } finally {\r\n        props.setLoading(false);\r\n      }\r\n    },\r\n    [uid, sid, email, count]\r\n  );\r\n\r\n  const renderUIDInput = React.useMemo(\r\n    () => (\r\n      <React.Fragment>\r\n        <TextField\r\n          value={uid}\r\n          onChange={(val) => setUid(val.target.value)}\r\n          label={'您的 UID'}\r\n          fullWidth\r\n          required\r\n        />\r\n        <Tooltip title={'怎么获取 UID？'} arrow>\r\n          <IconButton\r\n            onClick={props.openGetUidModal}\r\n            color=\"primary\"\r\n            component=\"span\"\r\n          >\r\n            <Help />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </React.Fragment>\r\n    ),\r\n    [uid]\r\n  );\r\n\r\n  const renderSIDInput = React.useMemo(\r\n    () => (\r\n      <TextField\r\n        value={sid}\r\n        onChange={(val) => setSid(val.target.value)}\r\n        fullWidth\r\n        required\r\n        label={'您的学号'}\r\n      />\r\n    ),\r\n    [sid]\r\n  );\r\n\r\n  const renderEmailInput = React.useMemo(\r\n    () => (\r\n      <TextField\r\n        value={email}\r\n        onChange={(val) => setEmail(val.target.value)}\r\n        fullWidth\r\n        required\r\n        label={'您的邮箱'}\r\n      />\r\n    ),\r\n    [email]\r\n  );\r\n\r\n  const renderSelectorInput = React.useMemo(\r\n    () => (\r\n      <React.Fragment>\r\n        <RadioGroup\r\n          className={'count-selection'}\r\n          value={count}\r\n          onChange={(_, val) => setCount(val)}\r\n          row\r\n        >\r\n          <FormControlLabel\r\n            value=\"twice\"\r\n            control={<Radio color={'primary'} />}\r\n            label=\"午检+晚检\"\r\n          />\r\n          <FormControlLabel\r\n            value=\"once\"\r\n            control={<Radio color={'primary'} />}\r\n            label=\"晚检\"\r\n          />\r\n        </RadioGroup>\r\n      </React.Fragment>\r\n    ),\r\n    [count]\r\n  );\r\n\r\n  const render = (\r\n    <React.Fragment>\r\n      <form onSubmit={handleSubmit} className={'submit-container'}>\r\n        <ul>\r\n          <li>{renderUIDInput}</li>\r\n          <li>{renderSIDInput}</li>\r\n          <li>{renderEmailInput}</li>\r\n          <li>{renderSelectorInput}</li>\r\n          <li>\r\n            <Button\r\n              variant={'contained'}\r\n              color={'primary'}\r\n              type={'submit'}\r\n              endIcon={<Save />}\r\n              fullWidth\r\n            >\r\n              提交任务\r\n            </Button>\r\n          </li>\r\n        </ul>\r\n      </form>\r\n    </React.Fragment>\r\n  );\r\n\r\n  return render;\r\n};\r\n\r\nexport default Submit;\r\n","import * as React from 'react';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport { Delete as DeleteIcon } from '@material-ui/icons';\r\n\r\nimport { DELETE_USER } from '../../api';\r\n\r\nimport './Delete.scss';\r\n\r\nexport const CREATE_USER_MESSAGE = {\r\n  'failedGh.html': '任务提交失败，请检查学号',\r\n  'deleteFailed.html': '删除任务失败',\r\n  'deleteSuccess.html': '删除任务成功',\r\n};\r\n\r\nconst Delete: React.SFC<any> = (props) => {\r\n  const [sid, setSid] = React.useState<string>('');\r\n\r\n  const checkStudentID = React.useCallback((id: string): boolean => {\r\n    return /^\\d{11}$/.test(id);\r\n  }, []);\r\n\r\n  const handleSubmit = React.useCallback(\r\n    async (ev: React.FormEvent<HTMLFormElement>) => {\r\n      ev.preventDefault();\r\n      ev.stopPropagation();\r\n\r\n      if (!checkStudentID(sid)) {\r\n        props.setError('学号格式错误');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const res = await DELETE_USER({ gh: sid });\r\n        if (res.status !== 200) {\r\n          throw new Error('网络错误');\r\n        }\r\n        const code = res.data.code;\r\n        const message: keyof typeof CREATE_USER_MESSAGE = res.data.message;\r\n        if (code == 1000) {\r\n          // 成功\r\n          props.setSuccess(CREATE_USER_MESSAGE[message] || '设置打卡任务成功');\r\n        } else {\r\n          // 失败\r\n          throw new Error(CREATE_USER_MESSAGE[message] || '未知错误');\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n        props.setError(error.message || JSON.stringify(error));\r\n      } finally {\r\n        props.setLoading(false);\r\n      }\r\n    },\r\n    [sid]\r\n  );\r\n\r\n  const renderSIDInput = React.useMemo(\r\n    () => (\r\n      <TextField\r\n        value={sid}\r\n        onChange={(val) => setSid(val.target.value)}\r\n        fullWidth\r\n        required\r\n        label={'您的学号'}\r\n      />\r\n    ),\r\n    [sid]\r\n  );\r\n\r\n  const render = (\r\n    <React.Fragment>\r\n      <form onSubmit={handleSubmit} className={'delete-container'}>\r\n        <ul>\r\n          <li>{renderSIDInput}</li>\r\n          <li>\r\n            <Button\r\n              variant={'contained'}\r\n              color={'secondary'}\r\n              type={'submit'}\r\n              endIcon={<DeleteIcon />}\r\n              fullWidth\r\n            >\r\n              删除任务\r\n            </Button>\r\n          </li>\r\n        </ul>\r\n      </form>\r\n    </React.Fragment>\r\n  );\r\n  return render;\r\n};\r\n\r\nexport default Delete;\r\n","export default __webpack_public_path__ + \"static/media/1.3267c0da.jpg\";","export default __webpack_public_path__ + \"static/media/2.27b81471.jpg\";","export default __webpack_public_path__ + \"static/media/3.dda221c7.jpg\";","import * as React from 'react';\r\nimport {\r\n  Modal,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Button,\r\n  Fade,\r\n} from '@material-ui/core';\r\n\r\nimport FirstImage from '../../common/images/1.jpg';\r\nimport SecondImage from '../../common/images/2.jpg';\r\nimport ThirdImage from '../../common/images/3.jpg';\r\n\r\nimport './GetUIdModal.scss';\r\n\r\ntype IProps = {\r\n  visible: boolean;\r\n  onClose: () => void;\r\n};\r\n\r\nconst steps = ['进入主页', '点击更多', '复制链接'];\r\nconst stepImages = [FirstImage, SecondImage, ThirdImage].map((i) => (\r\n  <img src={i} />\r\n));\r\n\r\nconst GetUIdModal: React.SFC<IProps> = (props) => {\r\n  const [activeStep, setActiveStep] = React.useState<number>(0);\r\n\r\n  const render = (\r\n    <Modal\r\n      disablePortal\r\n      disableEnforceFocus\r\n      disableAutoFocus\r\n      disableBackdropClick\r\n      aria-labelledby={'server-modal-title'}\r\n      aria-describedby={'server-modal-description'}\r\n      onClose={props.onClose}\r\n      open={props.visible}\r\n      style={{ outline: 0 }}\r\n      className={'get-uid-modal'}\r\n    >\r\n      <Fade in={props.visible}>\r\n        <div className={'get-uid-modal-container'}>\r\n          <Stepper\r\n            className={'get-uid-modal-stepper'}\r\n            orientation={'vertical'}\r\n            activeStep={activeStep}\r\n          >\r\n            {steps.map((item) => (\r\n              <Step key={item}>\r\n                <StepLabel>{item}</StepLabel>\r\n              </Step>\r\n            ))}\r\n          </Stepper>\r\n          <div className={'get-uid-modal-view'}>\r\n            <div className={'get-uid-modal-view-image'}>\r\n              {stepImages[activeStep]}\r\n            </div>\r\n            <div className={'get-uid-modal-view-buttons'}>\r\n              <Button\r\n                onClick={() => setActiveStep((i) => i - 1)}\r\n                disabled={activeStep === 0}\r\n              >\r\n                上一步\r\n              </Button>\r\n              <Button\r\n                onClick={() => setActiveStep((i) => i + 1)}\r\n                disabled={activeStep === steps.length - 1}\r\n              >\r\n                下一步\r\n              </Button>\r\n              <Button\r\n                onClick={props.onClose}\r\n                variant={'contained'}\r\n                color={'primary'}\r\n              >\r\n                我知道了\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fade>\r\n    </Modal>\r\n  );\r\n\r\n  return render;\r\n};\r\n\r\nexport default GetUIdModal;\r\n","import * as React from 'react';\r\nimport { Modal, Button, Fade } from '@material-ui/core';\r\n\r\nimport './LearnMoreModal.scss';\r\n\r\ntype IProps = {\r\n  visible: boolean;\r\n  onClose: () => void;\r\n};\r\n\r\nconst GetUIdModal: React.SFC<IProps> = (props) => {\r\n  const render = (\r\n    <Modal\r\n      disablePortal\r\n      disableEnforceFocus\r\n      disableAutoFocus\r\n      disableBackdropClick\r\n      aria-labelledby={'server-modal-title'}\r\n      aria-describedby={'server-modal-description'}\r\n      onClose={props.onClose}\r\n      open={props.visible}\r\n      style={{ outline: 0 }}\r\n      className={'learn-more-modal'}\r\n    >\r\n      <Fade in={props.visible}>\r\n        <div className={'learn-more-modal-container'}>\r\n          <h2>不知道写啥，就这样吧</h2>\r\n          <h3>我们会严格遵守相关数据保密工作</h3>\r\n          <h3>请放心使用</h3>\r\n          <Button\r\n            variant={'contained'}\r\n            color={'primary'}\r\n            onClick={props.onClose}\r\n          >\r\n            返回\r\n          </Button>\r\n        </div>\r\n      </Fade>\r\n    </Modal>\r\n  );\r\n\r\n  return render;\r\n};\r\n\r\nexport default GetUIdModal;\r\n","import * as React from 'react';\r\nimport {\r\n  AppBar,\r\n  Tabs,\r\n  Tab,\r\n  Snackbar,\r\n  Backdrop,\r\n  CircularProgress,\r\n} from '@material-ui/core';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { Alert } from '@material-ui/lab';\r\n\r\nimport Submit from '../../components/Submit/Submit';\r\nimport Delete from '../../components/Delete/Delete';\r\nimport GetUidModal from '../../components/GetUIdModal/GetUIdModal';\r\nimport LearnMoreModal from '../../components/LearnMoreModal/LearnMoreModal';\r\n\r\nimport './Home.scss';\r\n\r\nconst App: React.FC<{}> = () => {\r\n  const [current, setCurrent] = React.useState<number>(0);\r\n  const [\r\n    errorSnackbarMessage,\r\n    setErrorSnackbarMessage,\r\n  ] = React.useState<string>('');\r\n  const [\r\n    successSnackbarMessage,\r\n    setSuccessSnackbarMessage,\r\n  ] = React.useState<string>('');\r\n  const [getUidModalVisible, setGetUidModalVisible] = React.useState<boolean>(\r\n    false\r\n  );\r\n  const [\r\n    learnMoreModalVisible,\r\n    setLearnMoreModalVisible,\r\n  ] = React.useState<boolean>(false);\r\n  const [loading, setLoading] = React.useState<boolean>(false);\r\n\r\n  const tabSelection = React.useMemo(\r\n    () => [\r\n      {\r\n        label: '提交任务',\r\n        container: (\r\n          <Submit\r\n            openGetUidModal={() => setGetUidModalVisible(true)}\r\n            setError={setErrorSnackbarMessage}\r\n            setSuccess={setSuccessSnackbarMessage}\r\n            setLoading={setLoading}\r\n          />\r\n        ),\r\n      },\r\n      {\r\n        label: '删除任务',\r\n        container: (\r\n          <Delete\r\n            setSuccess={setSuccessSnackbarMessage}\r\n            setLoading={setLoading}\r\n            setError={setErrorSnackbarMessage}\r\n          />\r\n        ),\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  const handleCurrentChange = React.useCallback((_, value) => {\r\n    setCurrent(value);\r\n  }, []);\r\n\r\n  const renderErrorSnackbar = React.useMemo(\r\n    () => (\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'center',\r\n        }}\r\n        open={\r\n          typeof errorSnackbarMessage === 'string' &&\r\n          !!errorSnackbarMessage.length\r\n        }\r\n        autoHideDuration={3000}\r\n      >\r\n        <Alert\r\n          variant={'filled'}\r\n          elevation={6}\r\n          onClose={() => setErrorSnackbarMessage('')}\r\n          severity={'error'}\r\n        >\r\n          {errorSnackbarMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n    ),\r\n    [errorSnackbarMessage]\r\n  );\r\n\r\n  const renderSuccessSnackbar = React.useMemo(\r\n    () => (\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'center',\r\n        }}\r\n        open={\r\n          typeof successSnackbarMessage === 'string' &&\r\n          !!successSnackbarMessage.length\r\n        }\r\n        autoHideDuration={3000}\r\n      >\r\n        <Alert\r\n          variant={'filled'}\r\n          elevation={6}\r\n          onClose={() => setSuccessSnackbarMessage('')}\r\n          severity={'success'}\r\n        >\r\n          {successSnackbarMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n    ),\r\n    [successSnackbarMessage]\r\n  );\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className={'box-main'}>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Tabs\r\n            value={current}\r\n            onChange={handleCurrentChange}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            variant=\"fullWidth\"\r\n            aria-label=\"full width tabs example\"\r\n          >\r\n            {tabSelection.map((item) => (\r\n              <Tab label={item.label} />\r\n            ))}\r\n          </Tabs>\r\n        </AppBar>\r\n        <SwipeableViews className={'container'} index={current}>\r\n          {tabSelection.map((item) => item.container)}\r\n        </SwipeableViews>\r\n      </div>\r\n      <footer className={'main-footer'}>\r\n        <p>\r\n          &copy; 默默无闻的开发者们{' '}\r\n          <span onClick={() => setLearnMoreModalVisible(true)}>了解更多</span>\r\n        </p>\r\n      </footer>\r\n      {renderErrorSnackbar}\r\n      {renderSuccessSnackbar}\r\n      <GetUidModal\r\n        visible={getUidModalVisible}\r\n        onClose={() => setGetUidModalVisible(false)}\r\n      />\r\n      <LearnMoreModal\r\n        visible={learnMoreModalVisible}\r\n        onClose={() => setLearnMoreModalVisible(false)}\r\n      />\r\n      <Backdrop className={'main-backdrop'} open={loading}>\r\n        <CircularProgress color={'secondary'} />\r\n      </Backdrop>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import * as React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport NoMatch from './containers/NoMatch/NoMatch';\r\nimport Home from './containers/Home/Home';\r\n\r\nconst Router: React.FC<{}> = () => (\r\n  <Switch>\r\n    <Route exact path=\"/\" component={Home} />\r\n    <Route component={NoMatch} />\r\n  </Switch>\r\n);\r\n\r\nexport default Router;\r\n","import * as React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport Router from './Router';\n\nimport './App.scss';\n\nconst App: React.FC<{}> = () => {\n  return (\n    <HashRouter>\n      <Router />\n    </HashRouter>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'normalize.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}